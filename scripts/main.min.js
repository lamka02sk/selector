function Selector(a){this.elements={};this.currentElement={};this.elementsStructure={};this.config={selector:"select.selector-instance"};this.parameters=a;this.core()}Selector.prototype.core=function(){this.getElements();for(let i=0;i<this.elements.length;++i){this.createInstance(this.elements[i])}};Selector.prototype.getElements=function(){this.elements=document.querySelectorAll(this.config.selector)};Selector.prototype.createInstance=function(a){this.currentElement=a;this.saveContent();this.renderInstance()};Selector.prototype.saveContent=function(){let element=this.currentElement;let elementName=element.tagName.toLowerCase();this.elementsStructure[elementName]={};let attributes=element.attributes;for(let i=0;i<attributes.length;++i){this.elementsStructure[elementName][attributes[i].name]=attributes[i].value}for(let i=0;i<element.childElementCount;++i){let childElementName=element[i].tagName.toLowerCase();this.elementsStructure[elementName][i]={};this.elementsStructure[elementName][i].tag=childElementName;let childAttributes=element[i].attributes;this.elementsStructure[elementName][i].text=element[i].text;for(let j=0;j<childAttributes.length;++j){this.elementsStructure[elementName][i][childAttributes[j].name]=childAttributes[j].value}}};Selector.prototype.renderInstance=function(){let parent=this.renderParent();let options=this.renderOptions();let selectedElement=options.querySelector("div.option-selected");let selected=this.renderSelected(selectedElement);parent.appendChild(selected);parent.appendChild(options);this.currentElement.style.display="none";this.currentElement.parentNode.insertBefore(parent,this.currentElement.nextSibling)};Selector.prototype.renderParent=function(){let parent=document.createElement("div");parent.className="selector-element";parent.dataset.reference=this.elementsStructure.select.name;return parent};Selector.prototype.renderSelected=function(a){let selected=document.createElement("div");selected.className="selector-selected";let selectedText=document.createElement("p");selectedText.className="selected-text";selectedText.innerText=a.innerText;for(let i in a.dataset){selected.dataset[i]=a.dataset[i]}selected.appendChild(selectedText);return selected};Selector.prototype.renderOptions=function(){let options=document.createElement("div");options.className="selector-options";for(let i=0;i<this.currentElement.childElementCount;++i){let option=document.createElement("div");option.className="selector-option";let optionText;for(let j in this.elementsStructure.select[i]){let valueIndex=j;if(j=="tag"){continue}if(j=="value"){j="data-value"}if(j=="selected"||j=="disabled"){this.elementsStructure.select[i][valueIndex]="true";option.className+=" option-"+j;continue}if(j=="text"){optionText=document.createElement("span");optionText.className="option-text";optionText.innerText=this.elementsStructure.select[i][valueIndex];continue}option.setAttribute(j,this.elementsStructure.select[i][valueIndex])}option.setAttribute("data-item",i);option.appendChild(optionText);options.appendChild(option)}return options};